> 난이도에 맞는 템플릿을 선택해서 작성해주세요!

---

## 7주차 과제 체크포인트

### 기본 과제

# HARD

## 7주차 과제 체크포인트

### 기본과제

- [ ] 총 11개의 파일, 115개의 단위 테스트를 무사히 작성하고 통과시킨다.

#### 질문

> Q. handlersUtils에 남긴 질문에 답변해주세요.

> Q. 테스트를 독립적으로 구동시키기 위해 작성했던 설정들을 소개해주세요.

### 심화 과제

- [ ] App 컴포넌트 적절한 단위의 컴포넌트, 훅, 유틸 함수로 분리했는가?
- [ ] 해당 모듈들에 대한 적절한 테스트를 5개 이상 작성했는가?

## 과제 셀프회고

<!-- 과제에 대한 회고를 작성해주세요 -->

### 기술적 성장

<!-- 예시
- 새로 학습한 개념
- 기존 지식의 재발견/심화
- 구현 과정에서의 기술적 도전과 해결
-->

## 테스트 코드의 이해

### 테스트 코드 학습 전의 나

실무에서 테스크코드를 작성해본적이 없긴하지만, 리팩토링할 때 안정적이고, 품질이 높은 코드를 작성하는게 빠르게 검증하고 빠르게 삭제하고 추가하는 스타트업에서 의미있는 시간일까라는 생각을 갖고 있었다.

### Testing Library??? Jest?? Vitest??

이번에 발제를 들으면서 테스팅 라이브러리는 뭐고, jest와 vitest는 무엇이지 정리가 되지 않았다.

- Vitest, Jest
  vitest와 jest는 테스트 코드를 실행하는 러너이다.
  테스트코드를 실행시키고 결과물을 출력해주는 시스템이다.

- Testing Library?
  vitest와 jest를 이용하여 테스트를 돌릴 수 있게 해주는 도구이다.

약간 진격의거인 세계관으로 비교해보자면,,
testing library는 입체기동장치
test는 거인
vitest, jest는 조사병단, 주둔병단
이런 느낌이랄까..?

### 테스트 작성 방법

테스트 코드를 작성하는 방식에는 두가지 방식이 있다.

1. 구현 기반 테스트
   구현 기반 테스트는 구현 세부사항에 따라서 개발자 관점, 코드 구조 기반으로 작성하는 방식이다.
   내부 로직에 대해서 커버리지가 높다.

2. 명세 기반 테스트
   명세 기반 테스트는 사용자 관점, 요구사항 문서에 따라서 작성하는 방식이다.

예를 들어서 "초기 상태에서는 알림이 없어야 한다" 라는 테스트를 진행할 때 알람이 없어야 한다는 명세 기반 테스트일까 구현 기반 테스트일까?

테스트 코드를 작성해보았다.

```tsx
it('초기 상태에서는 알림이 없어야 한다', async () => {
  const { result: eventsResult } = renderHook(() => useEventOperations(false));

  await screen.findByText('일정 로딩 완료!');

  const events = eventsResult.current.events;

  const { result } = renderHook(() => useNotifications(events));

  expect(result.current.notifications).toEqual([]);
});
```

useEventOperations, useNotifications 등의 hook 내부에서 어떻게 구현이 되어있는지는 테스트하지 않았다.
이런 경우가 명세 기반 테스트이다.

### 코드 품질

## 잘못된 테스트 제거하기

테스트 코드에서 잘못된 테스트코드를 수정하는 서브 과제가 있었다.
잘못된 테스트 코드가 무엇일까?
과제하면서 잘못된 테스트코드에 대해서 생각해보고 정의해보았다.

1. 다른 액션에서 테스트가 이미 선행된 내용
2. 특정 날짜, 요일 기반으로 고정되는 테스트
3. 커버리지가 낮은 테스트
4. 잘못된 테스트 책임 분리
5. 중복된 테스트 코드
6. 한 유닛테스트에서 여러개의 유닛테스트를 하는 경우

### 2. 특정 날짜, 요일 기반으로 고정되는 테스트

- "currentDate는 오늘 날짜인 "2025-10-01"이어야 한다", "holidays는 10월 휴일인 개천절, 한글날, 추석이 지정되어 있어야 한다" 등의 테스트들은 확장성이 없다.
  TargetDate를 설정하고 테스트시 TargetDate 값을 변경해주면서 원하는 date, month를 테스트해줄 수 있게 해주는게 좋다.

### 3. 커버리지가 낮은 테스트

### 4. 잘못된 테스트 책임 분리

### 5. 중복된 테스트 코드

"검색어에 맞는 이벤트만 필터링해야 한다" 라는 테스트 코드와 "검색어가 제목, 설명, 위치 중 하나라도 일치하면 해당 이벤트를 반환해야 한다"의 테스트 코드는 description이 약간 다르지만
given, action then 이 모두 같은 테스트 코드이다.
이런 경우 하나는 제거할 필요가 있다.

 <!-- 예시

- 특히 만족스러운 구현
- 리팩토링이 필요한 부분
- 코드 설계 관련 고민과 결정
  -->

### 학습 효과 분석

<!-- 예시
- 가장 큰 배움이 있었던 부분
- 추가 학습이 필요한 영역
- 실무 적용 가능성
-->

### 과제 피드백

<!-- 예시
- 과제에서 모호하거나 애매했던 부분
- 과제에서 좋았던 부분
-->

## 리뷰 받고 싶은 내용

### 테스트 코드의 기대값을 어디까지 정적으로 두어야하고 동적으로 만들어야할지?

예를 들어서
"검색어에 맞는 이벤트만 필터링해야 한다" 라는 테스트에서의 결과 기대값이 아래라면,

```ts
[
  {
    id: '2',
    title: '준일님 짱짱맨',
    date: '2025-10-15',
    startTime: '09:00',
    endTime: '10:00',
    description: '준일님 짱짱맨',
    location: '회의실 B',
    category: '업무',
    repeat: { type: 'none', interval: 0 },
    notificationTime: 10,
  },
];
```

정답에 대한 기대값을 정적으로 보관해야할지
아래처럼 filter로 돌아야되나 고민하였습니다.

```ts
eventList.filter(...)
```

filter의 로직이 도는순간 테스트코드를 테스트해야되는 상황이 오는게 아닌가? 라는 무한 테스트 굴레의 빠지는 상상을 해보았습니다.

그럼 무조건 정적으로 두어야하나? 싶다가도 아주 간단한 결과값인데도 정적으로 두는 것은 또 불필요한 것 같습니다.

예시로 들어보면,
"주간 뷰에서 다음으로 navigate" 하는 테스트입니다.

7일후, 7일전으로 이동하는 아주 간단한 로직임에도 이것도 정적인 데이터로 테스트결과값을 작성해놔야할지 고민입니다.

정적으로 두면 mock 데이터가 변경되면 테스트 결과값도 같이 매번 수정해줘야한다는 불편한 점이 있을텐데, 불편하더라도 올바른 테스트를 작성하려면 정적인 데이터를 사용해야할까요?

<!--
피드백 받고 싶은 내용을 구체적으로 남겨주세요
모호한 요청은 피드백을 남기기 어렵습니다.

참고링크: https://chatgpt.com/share/675b6129-515c-8001-ba72-39d0fa4c7b62

모호한 요청의 예시)
- 코드 스타일에 대한 피드백 부탁드립니다.
- 코드 구조에 대한 피드백 부탁드립니다.
- 개념적인 오류에 대한 피드백 부탁드립니다.
- 추가 구현이 필요한 부분에 대한 피드백 부탁드립니다.

구체적인 요청의 예시)
- 현재 함수와 변수명을 보면 직관성이 떨어지는 것 같습니다. 함수와 변수를 더 명확하게 이름 지을 수 있는 방법에 대해 조언해주실 수 있나요?
- 현재 파일 단위로 코드가 분리되어 있지만, 모듈화나 계층화가 부족한 것 같습니다. 어떤 기준으로 클래스를 분리하거나 모듈화를 진행하면 유지보수에 도움이 될까요?
- MVC 패턴을 따르려고 했는데, 제가 구현한 구조가 MVC 원칙에 맞게 잘 구성되었는지 검토해주시고, 보완할 부분을 제안해주실 수 있을까요?
- 컴포넌트 간의 의존성이 높아져서 테스트하기 어려운 상황입니다. 의존성을 낮추고 테스트 가능성을 높이는 구조 개선 방안이 있을까요?
-->
